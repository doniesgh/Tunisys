{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\donia\\\\Documents\\\\Tunisys\\\\src\\\\views\\\\admin\\\\Reclamation\\\\Components\\\\modifierRec.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useReclamationsContext } from 'Hooks/useRecsContext';\nimport { useAuthContext } from 'views/auth/hooks/useAuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ModifierRec = _ref => {\n  _s();\n\n  let {\n    handleClose,\n    reclamation\n  } = _ref;\n  const {\n    user\n  } = useAuthContext();\n  const {\n    dispatch\n  } = useReclamationsContext();\n  const [idn, setIdn] = useState((reclamation === null || reclamation === void 0 ? void 0 : reclamation.idn) || \"\");\n  const [type, setType] = useState((reclamation === null || reclamation === void 0 ? void 0 : reclamation.type) || \"\");\n  const [client, setClient] = useState((reclamation === null || reclamation === void 0 ? void 0 : reclamation.client) || \"\");\n  const [technicien, setTechnicien] = useState((reclamation === null || reclamation === void 0 ? void 0 : reclamation.technicien) || \"\");\n  const [equipement, setEquipement] = useState((reclamation === null || reclamation === void 0 ? void 0 : reclamation.equipement) || \"\");\n  const [localisation, setLocalisation] = useState((reclamation === null || reclamation === void 0 ? void 0 : reclamation.localisation) || \"\");\n  const [etat, setEtat] = useState((reclamation === null || reclamation === void 0 ? void 0 : reclamation.etat) || \"\");\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const reclamationData = {\n      idn: idn,\n      type: type,\n      client: client,\n      technicien: technicien,\n      equipement: equipement,\n      localisation: localisation,\n      etat: etat\n    };\n\n    if (reclamation && reclamation._id) {\n      try {\n        const response = await fetch(`/api/rec/${reclamation._id}`, {\n          method: \"PATCH\",\n          body: JSON.stringify(reclamationData),\n          headers: {\n            \"Content-type\": \"application/json\",\n            'Authorization': `Bearer ${user.token}`\n          }\n        });\n\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(errorData.message || \"Erreur dans la modification de la rÃ©clamation\");\n        }\n\n        const updatedRecData = await response.json();\n        dispatch({\n          type: \"UPDATE_REC\",\n          payload: {\n            _id: reclamation._id,\n            ...updatedRecData\n          }\n        });\n        handleClose();\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed top-0 left-0 z-10 flex h-full w-full items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rounded-md bg-white p-8 border-2 shadow-lg border-tunisys-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"mb-4 text-xl font-semibold text-center text-tunisys-100\",\n        children: \"Modifier R\\xE9clamation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"flex flex-col\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Idn:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: idn,\n            onChange: e => setIdn(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Type:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: type,\n            onChange: e => setType(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Client:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: client,\n            onChange: e => setClient(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Technicien:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: technicien,\n            onChange: e => setTechnicien(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Equipement:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: equipement,\n            onChange: e => setEquipement(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Localisation:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: localisation,\n            onChange: e => setLocalisation(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Etat:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: etat,\n            onChange: e => setEtat(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-indigo-00 text-green-600 text- mt-4 rounded py-2 px-4 font-bold hover:text-green-600\",\n          type: \"submit\",\n          children: \" Enregistrer \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mt-2 rounded bg-gray-500 py-2 px-4 font-bold text-white hover:bg-gray-600\",\n          type: \"button\",\n          onClick: handleClose,\n          children: \"Annuler \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ModifierRec, \"ZIKsSdNgZ+PZ6f67yJNfGsOFtFU=\", false, function () {\n  return [useAuthContext, useReclamationsContext];\n});\n\n_c = ModifierRec;\nexport default ModifierRec;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModifierRec\");","map":{"version":3,"names":["React","useState","useReclamationsContext","useAuthContext","ModifierRec","handleClose","reclamation","user","dispatch","idn","setIdn","type","setType","client","setClient","technicien","setTechnicien","equipement","setEquipement","localisation","setLocalisation","etat","setEtat","handleSubmit","e","preventDefault","reclamationData","_id","response","fetch","method","body","JSON","stringify","headers","token","ok","errorData","json","Error","message","updatedRecData","payload","error","console","target","value"],"sources":["C:/Users/donia/Documents/Tunisys/src/views/admin/Reclamation/Components/modifierRec.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useReclamationsContext } from 'Hooks/useRecsContext';\nimport {useAuthContext } from 'views/auth/hooks/useAuthContext'\n\nconst ModifierRec = ({ handleClose, reclamation }) => {\n  const {user} = useAuthContext()\n  const { dispatch } = useReclamationsContext();\n  const [idn, setIdn] = useState(reclamation?.idn || \"\");\n  const [type, setType] = useState(reclamation?.type || \"\");\n  const [client, setClient] = useState(reclamation?.client || \"\");\n  const [technicien, setTechnicien] = useState(reclamation?.technicien || \"\");\n  const [equipement, setEquipement] = useState(reclamation?.equipement || \"\");\n  const [localisation, setLocalisation] = useState(reclamation?.localisation || \"\");\n  const [etat, setEtat] = useState(reclamation?.etat || \"\");\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n  \n    const reclamationData = {\n      idn : idn,\n      type: type,\n      client: client,\n      technicien: technicien,\n      equipement: equipement,\n      localisation : localisation,\n      etat : etat\n    };\n    if (reclamation && reclamation._id) {\n      try {\n        const response = await fetch(`/api/rec/${reclamation._id}`, {\n          method: \"PATCH\",\n          body: JSON.stringify(reclamationData),\n          headers: {\n            \"Content-type\": \"application/json\",\n            'Authorization' :`Bearer ${user.token}`\n\n          },\n        });\n  \n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(errorData.message || \"Erreur dans la modification de la rÃ©clamation\");\n        }\n  \n        const updatedRecData = await response.json();\n        dispatch({\n          type: \"UPDATE_REC\",\n          payload: { _id: reclamation._id, ...updatedRecData },\n        });\n  \n        handleClose();\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }; \n  return (\n    <div className=\"fixed top-0 left-0 z-10 flex h-full w-full items-center justify-center\">\n      <div className=\"rounded-md bg-white p-8 border-2 shadow-lg border-tunisys-100\">\n        <h2 className=\"mb-4 text-xl font-semibold text-center text-tunisys-100\">Modifier RÃ©clamation</h2>\n        <form className=\"flex flex-col\" onSubmit={handleSubmit}>\n          <label>\n            Idn:\n            <input\n              type=\"text\"\n              value={idn}\n              onChange={(e) => setIdn(e.target.value)}\n            />\n          </label>\n          <label>\n          Type:\n            <input\n              type=\"text\"\n              value={type}\n              onChange={(e) => setType(e.target.value)}\n            />\n          </label>\n          <label>\n           Client:\n            <input\n              type=\"text\"\n              value={client}\n              onChange={(e) => setClient(e.target.value)}\n            />\n          </label>\n          <label>\n          Technicien:\n            <input\n              type=\"text\"\n              value={technicien}\n              onChange={(e) => setTechnicien(e.target.value)}\n            />\n          </label>\n          <label>\n            Equipement:\n            <input\n              type=\"text\"\n              value={equipement}\n              onChange={(e) => setEquipement(e.target.value)}\n            />\n          </label>\n          <label>\n            Localisation:\n            <input\n              type=\"text\"\n              value={localisation}\n              onChange={(e) => setLocalisation(e.target.value)}\n            />\n          </label>\n          <label>\n            Etat:\n            <input\n              type=\"text\"\n              value={etat}\n              onChange={(e) => setEtat(e.target.value)}\n            />\n          </label>\n          <button\n            className=\"text-indigo-00 text-green-600 text- mt-4 rounded py-2 px-4 font-bold hover:text-green-600\"\n            type=\"submit\"> Enregistrer </button>\n          <button\n            className=\"mt-2 rounded bg-gray-500 py-2 px-4 font-bold text-white hover:bg-gray-600\"\n            type=\"button\"\n            onClick={handleClose} >Annuler </button>\n        </form>\n      </div>\n    </div>\n  );\n  \n};\n\nexport default ModifierRec;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}