{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\donia\\\\Documents\\\\Tunisys\\\\src\\\\views\\\\admin\\\\client\\\\composants\\\\addClient.jsx\",\n    _s = $RefreshSig$();\n\nimport Card from 'components/card';\nimport React, { useEffect, useState } from 'react';\nimport { useAuthContext } from 'views/auth/hooks/useAuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddClient = _ref => {\n  _s();\n\n  let {\n    handleClose\n  } = _ref;\n  const {\n    user\n  } = useAuthContext();\n  const [name, setName] = useState('');\n  const [error, setError] = useState('');\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const [emptyFields, setEmptyFields] = useState([]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (!user) {\n      setError('Vous devez etre connectez');\n      return;\n    }\n\n    const client = {\n      name\n    };\n    const response = await fetch('/api/client/add', {\n      method: 'POST',\n      body: JSON.stringify(client),\n      headers: {\n        'Content-type': 'application/json',\n        'Authorization': `Bearer ${user.token}`\n      }\n    });\n    const json = await response.json();\n\n    if (!response.ok) {\n      setError(json.error);\n      setEmptyFields(json.emptyFields || []);\n    }\n\n    if (response.ok) {\n      setEmptyFields([]);\n      setName('');\n      setSuccessMessage(\"Client ajouté avec succès\");\n      handleClose();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed top-0 left-0 z-10 flex h-full w-full items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rounded-md bg-white p-8 border-2 shadow-lg border-tunisys-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"mb-4 text-xl font-semibold text-center text-tunisys-100\",\n        children: \"Ajouter client\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"flex flex-col\",\n        onClick: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Nom Client:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: `block w-full border rounded box-border mb-2 p-2.5 border-solid ${emptyFields.includes('name') ? 'border-red-500' : 'border-[#ddd]'}`,\n          type: \"text\",\n          onChange: e => setName(e.target.value),\n          value: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-indigo-00 text-green-600 text- mt-4 rounded py-2 px-4 font-bold hover:text-green-600\",\n          type: \"submit\",\n          children: \" Enregistrer \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error border rounded mx-0 my-5 p-2.5 border-solid bg-red-300\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 31\n        }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"success border rounded mx-0 my-5 p-2.5 border-solid bg-green-300\",\n          children: successMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 40\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mt-2 rounded bg-gray-500 py-2 px-4 font-bold text-white hover:bg-gray-600\",\n          type: \"button\",\n          onClick: handleClose,\n          children: \"Annuler \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddClient, \"SrXmqetylGPJFrxGyMGuKdwpJQM=\", false, function () {\n  return [useAuthContext];\n});\n\n_c = AddClient;\nexport default AddClient;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddClient\");","map":{"version":3,"names":["Card","React","useEffect","useState","useAuthContext","AddClient","handleClose","user","name","setName","error","setError","successMessage","setSuccessMessage","emptyFields","setEmptyFields","handleSubmit","e","preventDefault","client","response","fetch","method","body","JSON","stringify","headers","token","json","ok","includes","target","value"],"sources":["C:/Users/donia/Documents/Tunisys/src/views/admin/client/composants/addClient.jsx"],"sourcesContent":["import Card from 'components/card';\nimport React, { useEffect, useState } from 'react';\nimport { useAuthContext } from 'views/auth/hooks/useAuthContext'\n\nconst AddClient = ({ handleClose }) => {\n    const { user } = useAuthContext()\n    const [name, setName] = useState('');\n    const [error, setError] = useState('');\n    const [successMessage, setSuccessMessage] = useState(\"\");\n    const [emptyFields, setEmptyFields] = useState([]);\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (!user) {\n            setError('Vous devez etre connectez')\n            return\n        }\n        const client = { name }\n        const response = await fetch('/api/client/add', {\n            method: 'POST',\n            body: JSON.stringify(client),\n            headers: {\n                'Content-type': 'application/json',\n                'Authorization': `Bearer ${user.token}`\n            }\n        })\n        const json = await response.json()\n        if (!response.ok) {\n            setError(json.error)\n            setEmptyFields(json.emptyFields || [])\n\n        }\n        if (response.ok) {\n            setEmptyFields([])\n            setName('')\n            setSuccessMessage(\"Client ajouté avec succès\");\n            handleClose()\n\n\n        }\n    }\n\n    return (\n        <div className=\"fixed top-0 left-0 z-10 flex h-full w-full items-center justify-center\">\n            <div className=\"rounded-md bg-white p-8 border-2 shadow-lg border-tunisys-100\">\n                <h2 className=\"mb-4 text-xl font-semibold text-center text-tunisys-100\">Ajouter client</h2>\n                <form className=\"flex flex-col\" onClick={handleSubmit} >\n                    <label>\n                        Nom Client:\n                    </label>\n                    <input className={`block w-full border rounded box-border mb-2 p-2.5 border-solid ${emptyFields.includes('name') ? 'border-red-500' : 'border-[#ddd]'\n                        }`} type=\"text\"\n                        onChange={(e) => setName(e.target.value)}\n                        value={name}\n                    />\n                    <button\n                        className=\"text-indigo-00 text-green-600 text- mt-4 rounded py-2 px-4 font-bold hover:text-green-600\"\n                        type=\"submit\"> Enregistrer </button>\n                    {error && <div className=\"error border rounded mx-0 my-5 p-2.5 border-solid bg-red-300\">{error}</div>}\n                    {successMessage && <div className=\"success border rounded mx-0 my-5 p-2.5 border-solid bg-green-300\">{successMessage}</div>}\n                    <button\n                        className=\"mt-2 rounded bg-gray-500 py-2 px-4 font-bold text-white hover:bg-gray-600\"\n                        type=\"button\"\n                        onClick={handleClose} >Annuler </button>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default AddClient;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}