{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\donia\\\\Documents\\\\Tunisys\\\\src\\\\views\\\\admin\\\\default\\\\components\\\\Charts.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Chart from 'react-apexcharts';\nimport 'apexcharts/dist/apexcharts.css';\nimport Card from \"components/card\";\nimport { MdBarChart } from \"react-icons/md\";\nimport { useAuthContext } from 'views/auth/hooks/useAuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Charts = () => {\n  _s();\n\n  const {\n    user\n  } = useAuthContext();\n  const [chartData, setChartData] = useState({\n    labels: [],\n    totalData: []\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch('/api/rec/getTicketByDay', {\n          headers: {\n            Authorization: `Bearer ${user.token}`\n          }\n        });\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        const labels = data.map(item => item.day);\n        const totalData = data.map(item => item.count);\n        setChartData({\n          labels,\n          totalData\n        });\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n\n    fetchData();\n  }, [user.token]);\n  const {\n    labels,\n    totalData\n  } = chartData;\n  const chartOptions = {\n    chart: {\n      type: \"bar\",\n      height: 50,\n      stacked: false,\n      toolbar: {\n        show: true\n      }\n    },\n    fill: {\n      type: \"gradient\",\n      gradient: {\n        type: \"vertical\",\n        shadeIntensity: 1,\n        opacityFrom: 0.7,\n        opacityTo: 0.9,\n        colorStops: [[{\n          offset: 100,\n          color: \"#cc1d45\",\n          opacity: 1\n        }, {\n          offset: 100,\n          color: \"rgba(255, 150, 210,1)\",\n          opacity: 1\n        }]]\n      }\n    },\n    dataLabels: {\n      enabled: true\n    },\n    grid: {\n      show: false,\n      strokeDashArray: 2,\n      yaxis: {\n        lines: {\n          show: false\n        }\n      },\n      xaxis: {\n        lines: {\n          show: true\n        }\n      }\n    },\n    plotOptions: {\n      bar: {\n        borderRadius: 10,\n        columnWidth: \"80px\",\n        horizontal: false,\n        endingShape: \"rounded\"\n      }\n    },\n    colors: [\"#cc1d45\"],\n    stroke: {\n      show: true,\n      width: 2,\n      colors: [\"transparent\"]\n    },\n    series: [{\n      name: \"Nombre\",\n      data: totalData\n    }],\n    xaxis: {\n      categories: labels,\n      show: true,\n      labels: {\n        show: true,\n        style: {\n          colors: \"#cc1d45\",\n          fontSize: \"12px\",\n          fontWeight: \"500\"\n        }\n      },\n      axisBorder: {\n        show: true\n      },\n      axisTicks: {\n        show: true\n      }\n    },\n    yaxis: {\n      show: true,\n      color: \"#cc1d45\",\n      labels: {\n        show: false,\n        style: {\n          colors: \"#cc1d45\",\n          fontSize: \"14px\"\n        },\n        formatter: function (val) {\n          return val + \"par jour\";\n        }\n      }\n    },\n    tooltip: {\n      y: {\n        formatter: function (val) {\n          return val + \" par jour\";\n        }\n      },\n      enabled: true,\n      theme: \"dark\",\n      style: {\n        fontSize: \"12px\",\n        fontFamily: undefined,\n        backgroundColor: \"#cc1d45\"\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    extra: \"flex flex-col bg-white w-full rounded-3xl py-6 px-2 text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-auto flex items-center justify-between px-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg text-tunisys-100 font-bold dark:text-white\",\n        children: [\"Nombre r\\xE9clamations : \", new Date().toLocaleString('default', {\n          month: 'long'\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"!linear z-[1] flex items-center justify-center rounded-lg bg-lightPrimary p-2 text-tunisys-100 !transition !duration-200 hover:bg-gray-100 active:bg-gray-200 dark:bg-navy-700 dark:text-white dark:hover:bg-white/20 dark:active:bg-white/10\",\n        children: /*#__PURE__*/_jsxDEV(MdBarChart, {\n          className: \"h-6 w-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"md:mt-16 lg:mt-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-64 sm:h-72 md:h-80 lg:h-96 xl:h-120 w-full\",\n          children: /*#__PURE__*/_jsxDEV(Chart, {\n            options: chartOptions,\n            series: [{\n              name: \"Total\",\n              data: totalData\n            }],\n            type: \"bar\",\n            height: \"100%\",\n            width: \"100%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 10\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Charts, \"Zq1hsUXE0Z/1vL1H+AlWWk1RKUI=\", false, function () {\n  return [useAuthContext];\n});\n\n_c = Charts;\nexport default Charts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Charts\");","map":{"version":3,"names":["React","useState","useEffect","Chart","Card","MdBarChart","useAuthContext","Charts","user","chartData","setChartData","labels","totalData","fetchData","response","fetch","headers","Authorization","token","ok","Error","status","data","json","map","item","day","count","error","console","chartOptions","chart","type","height","stacked","toolbar","show","fill","gradient","shadeIntensity","opacityFrom","opacityTo","colorStops","offset","color","opacity","dataLabels","enabled","grid","strokeDashArray","yaxis","lines","xaxis","plotOptions","bar","borderRadius","columnWidth","horizontal","endingShape","colors","stroke","width","series","name","categories","style","fontSize","fontWeight","axisBorder","axisTicks","formatter","val","tooltip","y","theme","fontFamily","undefined","backgroundColor","Date","toLocaleString","month"],"sources":["C:/Users/donia/Documents/Tunisys/src/views/admin/default/components/Charts.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Chart from 'react-apexcharts';\nimport 'apexcharts/dist/apexcharts.css';\nimport Card from \"components/card\";\nimport { MdBarChart } from \"react-icons/md\";\nimport { useAuthContext } from 'views/auth/hooks/useAuthContext';\n\nconst Charts = () => {\n  const { user } = useAuthContext();\n  const [chartData, setChartData] = useState({\n    labels: [],\n    totalData: [],\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch('/api/rec/getTicketByDay', {\n          headers: {\n            Authorization: `Bearer ${user.token}`\n          }\n        });\n    \n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n    \n        const data = await response.json();\n    \n        const labels = data.map((item) => item.day);\n        const totalData = data.map((item) => item.count);\n    \n        setChartData({ labels, totalData });\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n    \n    fetchData();\n    }, [user.token]);\n\n  const { labels, totalData } = chartData;\n\n\n    const chartOptions = {\n      chart: {\n        type: \"bar\",\n        height: 50,\n        stacked:false,\n        toolbar: {\n          show: true,\n        },\n      },\n      fill: {\n        type: \"gradient\",\n        gradient: {\n          type: \"vertical\",\n          shadeIntensity: 1,\n          opacityFrom: 0.7,\n          opacityTo: 0.9,\n          colorStops: [\n            [\n              {\n                offset: 100,\n                color: \"#cc1d45\",\n                opacity: 1,\n              },\n              {\n                offset: 100,\n                color: \"rgba(255, 150, 210,1)\",\n                opacity: 1,\n              },\n            ],\n          ],\n        },\n      },\n      dataLabels: {\n        enabled: true,\n      },\n  \n      \n      grid: {\n        show: false,\n        strokeDashArray: 2,\n        yaxis: {\n          lines: {\n            show: false,\n          },\n        },\n        xaxis: {\n          lines: {\n            show: true,\n          },\n        },\n      },\n      plotOptions: {\n        bar: {\n          borderRadius: 10,\n          columnWidth: \"80px\",\n          horizontal: false,\n          endingShape: \"rounded\",\n        },\n      },\n      colors: [\"#cc1d45\"],\n      stroke: {\n        show: true,\n        width: 2,\n        colors: [\"transparent\"],\n      },\n      series: [\n        {\n          name: \"Nombre\",\n          data: totalData,\n        },\n      ],\n      xaxis: {\n        categories: labels,\n        show: true,\n        labels: {\n          show: true,\n          style: {\n            colors: \"#cc1d45\",\n            fontSize: \"12px\",\n            fontWeight: \"500\",\n          },\n        },\n        axisBorder: {\n          show: true,\n        },\n        axisTicks: {\n          show: true,\n        },\n      },\n      yaxis: {\n        show: true,\n        color: \"#cc1d45\",\n        labels: {                                                                            \n          show: false,\n          style: {\n            colors: \"#cc1d45\",\n            fontSize: \"14px\",\n          },\n          formatter: function (val) {\n            return val + \"par jour\";\n          },\n        },\n      },\n      tooltip: {\n        y: {\n          formatter: function (val) {\n            return val + \" par jour\";\n          },\n        },\n        enabled: true,\n        theme: \"dark\",\n        style: {\n          fontSize: \"12px\",\n          fontFamily: undefined,\n          backgroundColor: \"#cc1d45\"\n        },\n      },\n      \n       }\n\n  return (\n    <Card extra=\"flex flex-col bg-white w-full rounded-3xl py-6 px-2 text-center\">\n      <div className=\"mb-auto flex items-center justify-between px-6\">\n      <h2 className=\"text-lg text-tunisys-100 font-bold dark:text-white\">\n        Nombre réclamations : {new Date().toLocaleString('default', { month: 'long' })}\n      </h2>\n\n        <button className=\"!linear z-[1] flex items-center justify-center rounded-lg bg-lightPrimary p-2 text-tunisys-100 !transition !duration-200 hover:bg-gray-100 active:bg-gray-200 dark:bg-navy-700 dark:text-white dark:hover:bg-white/20 dark:active:bg-white/10\">\n          <MdBarChart className=\"h-6 w-6\" />\n        </button>\n      </div>\n\n      <div className=\"md:mt-16 lg:mt-0\">\n        <div className=\"w-full \">\n          <div className=\"h-64 sm:h-72 md:h-80 lg:h-96 xl:h-120 w-full\">\n         <Chart\n              options={chartOptions}\n              series={[{ name: \"Total\", data: totalData }]}\n              type=\"bar\"\n              height=\"100%\"\n              width=\"100%\"\n  />\n          </div>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default Charts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}