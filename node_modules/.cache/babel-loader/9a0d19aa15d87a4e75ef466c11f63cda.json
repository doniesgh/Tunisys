{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\donia\\\\Documents\\\\Tunisys\\\\src\\\\views\\\\admin\\\\ClientManagement\\\\CONTRAT\\\\ContratDetails.jsx\",\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { format, isValid } from 'date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ContratDetails = () => {\n  _s2();\n\n  var _s = $RefreshSig$(),\n      _contratDetails$servi;\n\n  const {\n    contratId\n  } = useParams();\n  const [contratDetails, setContratDetails] = useState([]);\n  console.log('id', contratId);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isFullScreen, setIsFullScreen] = useState(false);\n  const [attachments, setAttachments] = useState([]);\n\n  const handleCloseFullScreen = () => {\n    setIsFullScreen(false);\n  };\n\n  useEffect(() => {\n    if (contratId) {\n      fetch(`/api/contrat/${contratId}`).then(response => response.json()).then(data => setContratDetails(data)).catch(error => console.error('Error fetching contrat details:', error));\n    }\n  }, [contratId]);\n\n  if (!setContratDetails) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 16\n    }, this);\n  }\n\n  console.log(contratDetails);\n\n  const handleImageClick = () => {\n    setIsFullScreen(!isFullScreen);\n  };\n\n  const ModifyContrat = () => {\n    _s();\n\n    const [attachments, setAttachments] = useState([]); // Other state and functions...\n\n    const handleUpdateAttachments = async () => {\n      try {\n        const response = await fetch(`/api/contrat/${contratId}/attachments`, {\n          method: 'PUT',\n          body: JSON.stringify({\n            attachments\n          }),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n\n        if (response.ok) {\n          const result = await response.json();\n          console.log('Attachments updated successfully:', result);\n        } else {\n          const errorDetails = await response.json();\n          throw new Error(errorDetails.error);\n        }\n      } catch (error) {\n        console.error('Error updating attachments:', error);\n        throw error;\n      }\n    };\n\n    const handleAddAttachment = newAttachment => {\n      setAttachments(prevAttachments => [...prevAttachments, newAttachment]);\n    };\n  };\n\n  _s(ModifyContrat, \"HMFHohZGJfqFd9x2B1nC8qGejdE=\");\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-[1.7em] text-tunisys-100  mb-2.5 mx-0 text-center font-semibold dark:text-gray-600\",\n      children: [\" \", contratDetails.contrat_sn]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-w-screen p-5 py-10 rounded-2xl relative shadow-[2px_2px_5px_rgba(0,0,0,0.05)] mx-auto my-5 bg-white dark:bg-gray-900\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"sm:col-span-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1 text-gray-900 dark:text-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"contrat_sn :   \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 78\n            }, this), contratDetails.contrat_sn]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1 text-gray-900 dark:text-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"effective_date : \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 78\n            }, this), isValid(new Date(contratDetails.effective_date)) ? format(new Date(contratDetails.termination_date), 'yyyy/MM/dd') : 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1 text-gray-900 dark:text-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"termination_date :   \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 78\n            }, this), isValid(new Date(contratDetails.termination_date)) ? format(new Date(contratDetails.termination_date), 'yyyy/MM/dd') : 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1 text-gray-900 dark:text-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"Services : \", ((_contratDetails$servi = contratDetails.service) === null || _contratDetails$servi === void 0 ? void 0 : _contratDetails$servi.length) || 0, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1 text-gray-900 dark:text-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Client: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), contratDetails.client && contratDetails.client.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: contratDetails.client.map((client, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [client.client, index !== contratDetails.client.length - 1 && ', ']\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 41\n              }, this))\n            }, void 0, false) : 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), contratDetails.client && contratDetails.client.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Address: \", contratDetails.client[0].adresse || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Email: \", contratDetails.client[0].email || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Mobile: \", contratDetails.client[0].mobile || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Office: \", contratDetails.client[0].office || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Corporate: \", contratDetails.client[0].corporate || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 33\n            }, this), contratDetails.client[0].attachement && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: contratDetails.client[0].attachement,\n              alt: \"Client Attachment\",\n              className: \"rounded \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:col-span-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1 text-gray-900 dark:text-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Attachements:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this), contratDetails.attachement.map((attachment, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n              src: attachment.url // Assuming the URL is stored in the 'url' property\n              ,\n              style: {\n                width: '200px',\n                height: '200px'\n              },\n              alt: `Attachment ${index + 1}`,\n              className: \"rounded\",\n              onClick: () => handleImageClick(attachment.url)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 33\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), isFullScreen && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fixed inset-0 z-50 flex items-center justify-center bg-black\",\n            style: {\n              background: 'rgba(0, 0, 0, 0.7)'\n            },\n            onClick: handleCloseFullScreen,\n            children: contratDetails.attachement.map((attachment, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n              src: attachment.url // Assuming the URL is stored in the 'url' property\n              ,\n              style: {\n                maxWidth: '90%',\n                maxHeight: '90%',\n                cursor: 'pointer'\n              },\n              alt: `Attachment ${index + 1}`,\n              onClick: () => handleImageClick(attachment.url)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: e => {\n              const file = e.target.files[0]; // Handle the file and add it to the attachments state\n\n              handleAddAttachment(file);\n            },\n            className: \"block w-full border-red-700 rounded-md border-2 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 cursor-pointer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleUpdateAttachments,\n            children: \"Update Attachments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 7\n          }, this), contrat.attachement && contrat.attachement.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Existing Attachments:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 11\n            }, this), contrat.attachement.map((attachment, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: attachment.url,\n                alt: `Attachment ${index + 1}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 15\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 13\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s2(ContratDetails, \"zPaLTiFvp3ubihhMVrxVe/VICg0=\", false, function () {\n  return [useParams];\n});\n\n_c = ContratDetails;\nexport default ContratDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContratDetails\");","map":{"version":3,"names":["React","useEffect","useState","useParams","format","isValid","ContratDetails","contratId","contratDetails","setContratDetails","console","log","isModalOpen","setIsModalOpen","isFullScreen","setIsFullScreen","attachments","setAttachments","handleCloseFullScreen","fetch","then","response","json","data","catch","error","handleImageClick","ModifyContrat","handleUpdateAttachments","method","body","JSON","stringify","headers","ok","result","errorDetails","Error","handleAddAttachment","newAttachment","prevAttachments","contrat_sn","Date","effective_date","termination_date","service","length","client","map","index","adresse","email","mobile","office","corporate","attachement","attachment","url","width","height","background","maxWidth","maxHeight","cursor","e","file","target","files","contrat"],"sources":["C:/Users/donia/Documents/Tunisys/src/views/admin/ClientManagement/CONTRAT/ContratDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { format, isValid } from 'date-fns';\n\nconst ContratDetails = () => {\n    const { contratId } = useParams();\n    const [contratDetails, setContratDetails] = useState([]);\n    console.log('id', contratId)\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [isFullScreen, setIsFullScreen] = useState(false);\n    const [attachments, setAttachments] = useState([]);\n\n    const handleCloseFullScreen = () => {\n  \n        setIsFullScreen(false);\n      };\n      \n    useEffect(() => {\n        if (contratId) {\n            fetch(`/api/contrat/${contratId}`)\n                .then(response => response.json())\n                .then(data => setContratDetails(data))\n                .catch(error => console.error('Error fetching contrat details:', error));\n        }\n\n    }, [contratId]);\n    if (!setContratDetails) {\n        return <div>Loading...</div>;\n    }\n    console.log(contratDetails)\n    const handleImageClick = () => {\n        setIsFullScreen(!isFullScreen);\n    };\n\n\n\n\n\n\n    const ModifyContrat = () => {\n        const [attachments, setAttachments] = useState([]);\n      \n        // Other state and functions...\n      \n        const handleUpdateAttachments = async () => {\n          try {\n            const response = await fetch(`/api/contrat/${contratId}/attachments`, {\n              method: 'PUT',\n              body: JSON.stringify({ attachments }),\n              headers: {\n                'Content-Type': 'application/json',\n              },\n            });\n      \n            if (response.ok) {\n              const result = await response.json();\n              console.log('Attachments updated successfully:', result);\n            } else {\n              const errorDetails = await response.json();\n              throw new Error(errorDetails.error);\n            }\n          } catch (error) {\n            console.error('Error updating attachments:', error);\n            throw error;\n          }\n        };\n      \n        const handleAddAttachment = (newAttachment) => {\n          setAttachments((prevAttachments) => [...prevAttachments, newAttachment]);\n        };\n    }\n    return (\n        <>\n            <h1 className=\"text-[1.7em] text-tunisys-100  mb-2.5 mx-0 text-center font-semibold dark:text-gray-600\"> {contratDetails.contrat_sn}</h1>\n            <div className='min-w-screen p-5 py-10 rounded-2xl relative shadow-[2px_2px_5px_rgba(0,0,0,0.05)] mx-auto my-5 bg-white dark:bg-gray-900'>\n                <div className=\" grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6\">\n\n                    <div class=\"sm:col-span-3\">\n                        <p className=\"mb-1 text-gray-900 dark:text-gray-200\"><strong>contrat_sn :   </strong>\n                            {contratDetails.contrat_sn}\n                        </p>\n                    </div>\n\n                    <div className=\"sm:col-span-3\">\n                        <p className=\"mb-1 text-gray-900 dark:text-gray-200\"><strong>effective_date : </strong>\n                            {isValid(new Date(contratDetails.effective_date)) ? format(new Date(contratDetails.termination_date), 'yyyy/MM/dd') : 'N/A'}\n\n                        </p>\n                    </div>\n                    <div className=\"sm:col-span-3\">\n                        <p className=\"mb-1 text-gray-900 dark:text-gray-200\"><strong>termination_date :   </strong>\n                            {isValid(new Date(contratDetails.termination_date)) ? format(new Date(contratDetails.termination_date), 'yyyy/MM/dd') : 'N/A'}\n                        </p>\n\n                    </div>\n                    <div className=\"sm:col-span-3\">\n                        <p className=\"mb-1 text-gray-900 dark:text-gray-200\">\n                            <strong>Services : {contratDetails.service?.length || 0} </strong>\n                        </p>\n                    </div>\n\n                    <div className=\"sm:col-span-3\">\n                        <p className=\"mb-1 text-gray-900 dark:text-gray-200\">\n                            <strong>Client: </strong>\n                            {contratDetails.client && contratDetails.client.length > 0 ? (\n                                <>\n                                    {contratDetails.client.map((client, index) => (\n                                        <span key={index}>\n                                            {client.client}\n                                            {index !== contratDetails.client.length - 1 && ', '}\n                                        </span>\n                                    ))}\n                                </>\n                            ) : (\n                                'N/A'\n                            )}\n                        </p>\n                        {contratDetails.client && contratDetails.client.length > 0 && (\n                            <>\n                                <p>Address: {contratDetails.client[0].adresse || 'N/A'}</p>\n                                <p>Email: {contratDetails.client[0].email || 'N/A'}</p>\n                                <p>Mobile: {contratDetails.client[0].mobile || 'N/A'}</p>\n                                <p>Office: {contratDetails.client[0].office || 'N/A'}</p>\n                                <p>Corporate: {contratDetails.client[0].corporate || 'N/A'}</p>\n\n                                {contratDetails.client[0].attachement && (\n                                    <img\n                                        src={contratDetails.client[0].attachement}\n                                        alt=\"Client Attachment\"\n                                        className=\"rounded \"\n                                    />\n                                )}\n                            </>\n                        )}\n                    </div>\n                    <div className=\"sm:col-span-3\">\n                        <p className=\"mb-1 text-gray-900 dark:text-gray-200\">\n                            <strong>Attachements:</strong>\n                            {contratDetails.attachement.map((attachment, index) => (\n                                <img\n                                    key={index}\n                                    src={attachment.url} // Assuming the URL is stored in the 'url' property\n                                    style={{ width: '200px', height: '200px' }}\n                                    alt={`Attachment ${index + 1}`}\n                                    className='rounded'\n                                    onClick={() => handleImageClick(attachment.url)}\n                                />\n                            ))}\n                        </p>\n                        {isFullScreen && (\n                            <div\n                                className=\"fixed inset-0 z-50 flex items-center justify-center bg-black\"\n                                style={{ background: 'rgba(0, 0, 0, 0.7)' }}\n                                onClick={handleCloseFullScreen}\n                            >\n                                {contratDetails.attachement.map((attachment, index) => (\n                                    <img\n                                        key={index}\n                                        src={attachment.url} // Assuming the URL is stored in the 'url' property\n                                        style={{ maxWidth: '90%', maxHeight: '90%', cursor: 'pointer' }}\n                                        alt={`Attachment ${index + 1}`}\n                                        onClick={() => handleImageClick(attachment.url)}\n                                    />\n                                ))}\n                            </div>\n                        )}\n\n                    </div>\n                    <div>\n      {/* Input for adding new attachments */}\n      <input\n        type=\"file\"\n        onChange={(e) => {\n          const file = e.target.files[0];\n          // Handle the file and add it to the attachments state\n          handleAddAttachment(file);\n        }}\n        className=\"block w-full border-red-700 rounded-md border-2 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 cursor-pointer\"\n      />\n\n      {/* Button to update attachments */}\n      <button onClick={handleUpdateAttachments}>Update Attachments</button>\n\n      {/* Display existing attachments */}\n      {contrat.attachement && contrat.attachement.length > 0 && (\n        <div>\n          <h3>Existing Attachments:</h3>\n          {contrat.attachement.map((attachment, index) => (\n            <div key={index}>\n              <img src={attachment.url} alt={`Attachment ${index + 1}`} />\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n\n                </div>\n                <div>\n                </div>\n            </div>\n\n        </>)\n}\n\nexport default ContratDetails"],"mappings":"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"},"metadata":{},"sourceType":"module"}