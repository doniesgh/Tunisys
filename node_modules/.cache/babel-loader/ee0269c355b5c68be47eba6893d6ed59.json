{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\donia\\\\Documents\\\\Tunisys\\\\src\\\\views\\\\admin\\\\Reclamation\\\\Components\\\\reclamationDetails.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, Link } from 'react';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport { useAuthContext } from 'views/auth/hooks/useAuthContext';\nimport { useReclamationsContext } from 'Hooks/useRecsContext';\nimport ModifierRec from './modifierRec';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst {\n  format\n} = require('date-fns');\n\nconst ReclamationDetails = _ref => {\n  _s();\n\n  let {\n    reclamation\n  } = _ref;\n  const {\n    user\n  } = useAuthContext();\n  const [selectedRec, setSelectedRec] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n  };\n\n  const handleOpenModal = reclamation => {\n    setIsModalOpen(true);\n    setSelectedRec(reclamation);\n  };\n\n  const {\n    dispatch\n  } = useReclamationsContext();\n\n  const handleClick = async () => {\n    if (!user) {\n      return;\n    }\n\n    const response = await fetch('/api/rec/' + reclamation._id, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': `Bearer ${user.token}`\n      }\n    });\n    const json = await response.json();\n\n    if (response.ok) {\n      dispatch({\n        type: 'DELETE_REC',\n        payload: json\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"event-details p-5 rounded-2xl relative shadow-[2px_2px_5px_rgba(0,0,0,0.05)] mx-auto my-5 bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Id :\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 31\n          }, this), reclamation.idn, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Type :\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 31\n          }, this), reclamation.type, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Client :\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 31\n          }, this), reclamation.client, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Technicien:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 31\n          }, this), reclamation.traiteur, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Equipement:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 31\n          }, this), reclamation.equipement, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Localisation:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 31\n          }, this), reclamation.localisation, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-1\",\n          children: formatDistanceToNow(new Date(reclamation.createdAt), {\n            addSuffix: true\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleClick,\n          className: \"bg-transparent hover:bg-red-400 text-red-400  hover:text-white py-1 px-2 border border-red-400 hover:border-transparent rounded\",\n          children: \"Supprimer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-transparent ml-2 hover:bg-green-400 text-green-400  hover:text-white py-1 px-2 border border-green-400 hover:border-transparent rounded\",\n          onClick: () => handleOpenModal(reclamation),\n          children: \"Modifier\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-transparent ml-2 hover:bg-yellow-400 text-yellow-400  hover:text-white py-1 px-2 border border-yellow-400 hover:border-transparent rounded\",\n          children: reclamation.etat\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), isModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content border-x-violet-800\\t\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"close\",\n          onClick: () => setIsModalOpen(false),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), isModalOpen && /*#__PURE__*/_jsxDEV(ModifierRec, {\n          handleClose: handleCloseModal,\n          reclamation: selectedRec\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ReclamationDetails, \"868iOVAmLqSsSjCRdDiMK1yehV8=\", false, function () {\n  return [useAuthContext, useReclamationsContext];\n});\n\n_c = ReclamationDetails;\nexport default ReclamationDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReclamationDetails\");","map":{"version":3,"names":["useState","Link","formatDistanceToNow","useAuthContext","useReclamationsContext","ModifierRec","format","require","ReclamationDetails","reclamation","user","selectedRec","setSelectedRec","isModalOpen","setIsModalOpen","handleCloseModal","handleOpenModal","dispatch","handleClick","response","fetch","_id","method","headers","token","json","ok","type","payload","idn","client","traiteur","equipement","localisation","Date","createdAt","addSuffix","etat"],"sources":["C:/Users/donia/Documents/Tunisys/src/views/admin/Reclamation/Components/reclamationDetails.jsx"],"sourcesContent":["import { useState, Link } from 'react';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport { useAuthContext } from 'views/auth/hooks/useAuthContext';\nimport { useReclamationsContext } from 'Hooks/useRecsContext';\nimport ModifierRec from './modifierRec';\nconst { format } = require('date-fns');\nconst ReclamationDetails = ({ reclamation }) => {\n  const {user} = useAuthContext()\n  const [selectedRec, setSelectedRec] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n      const handleCloseModal = () => {\n        setIsModalOpen(false);\n      };\n      const handleOpenModal = (reclamation) => {\n        setIsModalOpen(true);\n        setSelectedRec(reclamation);\n      };\n  const { dispatch } = useReclamationsContext();\n  const handleClick = async () => {\n    if(!user) {\n      return\n    }\n    const response = await fetch('/api/rec/' + reclamation._id, {\n      method: 'DELETE',\n      headers: {\n        'Authorization' :`Bearer ${user.token}`\n      }\n    });\n    const json = await response.json();\n    if (response.ok) {\n      dispatch({ type: 'DELETE_REC', payload: json });\n    }\n  };\n  return (\n    <div className='event-details p-5 rounded-2xl relative shadow-[2px_2px_5px_rgba(0,0,0,0.05)] mx-auto my-5 bg-white'>\n      <div className='flex'>\n        \n        <div className=\"ml-4\">\n          <p className=\"mb-1\"><strong>Id :</strong>{reclamation.idn} </p>\n          <p className=\"mb-1\"><strong>Type :</strong>{reclamation.type} </p>\n          <p className=\"mb-1\"><strong>Client :</strong>{reclamation.client} </p>\n          <p className=\"mb-1\"><strong>Technicien:</strong>{reclamation.traiteur} </p>\n          <p className=\"mb-1\"><strong>Equipement:</strong>{reclamation.equipement} </p>\n          <p className=\"mb-1\"><strong>Localisation:</strong>{reclamation.localisation} </p>\n          <p className=\"mb-1\">{formatDistanceToNow(new Date(reclamation.createdAt), { addSuffix: true })}</p>\n          <button onClick={handleClick} className='bg-transparent hover:bg-red-400 text-red-400  hover:text-white py-1 px-2 border border-red-400 hover:border-transparent rounded'>Supprimer</button>\n          <button className='bg-transparent ml-2 hover:bg-green-400 text-green-400  hover:text-white py-1 px-2 border border-green-400 hover:border-transparent rounded' onClick={() => handleOpenModal(reclamation)}>\n            Modifier</button>\n            <button className='bg-transparent ml-2 hover:bg-yellow-400 text-yellow-400  hover:text-white py-1 px-2 border border-yellow-400 hover:border-transparent rounded'>\n            {reclamation.etat}</button>\n        </div>\n      </div>\n      {isModalOpen && (\n      <div className='modal'>\n        <div className='modal-content border-x-violet-800\t'>\n          <span className='close' onClick={() => setIsModalOpen(false)}>\n            &times;\n          </span>\n          {isModalOpen && <ModifierRec handleClose={handleCloseModal} reclamation={selectedRec} />\n}\n        </div>\n      </div>\n    )}\n    </div>\n    \n  );\n};\n\nexport default ReclamationDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}