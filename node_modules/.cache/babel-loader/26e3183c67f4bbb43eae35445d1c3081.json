{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\donia\\\\Documents\\\\Tunisys\\\\src\\\\layouts\\\\technicien\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Routes, Route, Navigate, useLocation } from \"react-router-dom\";\nimport Navbar from \"components/navbar\";\nimport TechSidebar from \"components/sidebar/techSidebar\";\nimport Footer from \"components/footer/Footer\";\nimport techroutes from \"../../Routes/techRoutes\";\nimport { useAuthContext } from 'views/auth/hooks/useAuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Tech(props) {\n  _s();\n\n  const {\n    user\n  } = useAuthContext();\n  const { ...rest\n  } = props;\n  const location = useLocation();\n  const [open, setOpen] = React.useState(true);\n  const [currentRoute, setCurrentRoute] = React.useState(\"Main Dashboard\");\n  React.useEffect(() => {\n    window.addEventListener(\"resize\", () => window.innerWidth < 1200 ? setOpen(false) : setOpen(true));\n  }, []);\n  React.useEffect(() => {\n    getActiveRoute(techroutes);\n  }, [location.pathname]);\n\n  const getActiveRoute = routes => {\n    let activeRoute = \"Main Dashboard\";\n\n    for (let i = 0; i < routes.length; i++) {\n      if (window.location.href.indexOf(routes[i].layout + \"/\" + routes[i].path) !== -1) {\n        setCurrentRoute(routes[i].name);\n      }\n    }\n\n    return activeRoute;\n  };\n\n  const getActiveNavbar = routes => {\n    let activeNavbar = false;\n\n    for (let i = 0; i < routes.length; i++) {\n      if (window.location.href.indexOf(routes[i].layout + routes[i].path) !== -1) {\n        return routes[i].secondary;\n      }\n    }\n\n    return activeNavbar;\n  };\n  /*const getRoutes = (routes) => {\n    return routes.map((prop, key) => {\n      if (prop.layout === \"/tech\") {\n        return (\n          <Route path={`/${prop.path}`} element={prop.component} key={key} />\n        );\n      } else {\n        return null;\n      }\n    });\n  };*/\n\n\n  const getRoutes = routes => {\n    return routes.map((prop, key) => {\n      if (prop.layout === \"/tech\") {\n        // Add a conditional check for allowed roles\n        if (user && prop.allowedRoles.includes(user.role)) {\n          return /*#__PURE__*/_jsxDEV(Route, {\n            path: `/${prop.path}`,\n            element: prop.component\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 18\n          }, this);\n        } else {\n          // Optionally, you can redirect to a different page if the user's role is not allowed\n          return /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/noaccess\"\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 18\n          }, this);\n        }\n      } else {\n        return null;\n      }\n    });\n  };\n\n  document.documentElement.dir = \"ltr\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-full w-full\",\n    children: [/*#__PURE__*/_jsxDEV(TechSidebar, {\n      open: open,\n      onClose: () => setOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full w-full bg-lightPrimary dark:!bg-navy-900\",\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        className: `mx-[12px] h-full flex-none transition-all md:pr-2 xl:ml-[313px]`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-full\",\n          children: [/*#__PURE__*/_jsxDEV(Navbar, {\n            onOpenSidenav: () => setOpen(true),\n            logoText: \"\",\n            brandText: currentRoute,\n            secondary: getActiveNavbar(techroutes),\n            ...rest\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-5s mx-auto mb-auto h-full min-h-[84vh] p-2 md:pr-2\",\n            children: /*#__PURE__*/_jsxDEV(Routes, {\n              children: [getRoutes(techroutes), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"/\",\n                element: /*#__PURE__*/_jsxDEV(Navigate, {\n                  to: \"/tech/default\",\n                  replace: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 28\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3\",\n            children: /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Tech, \"IPl9gPwzoIQ9haGb8H/IBDymwS0=\", false, function () {\n  return [useAuthContext, useLocation];\n});\n\n_c = Tech;\n\nvar _c;\n\n$RefreshReg$(_c, \"Tech\");","map":{"version":3,"names":["React","Routes","Route","Navigate","useLocation","Navbar","TechSidebar","Footer","techroutes","useAuthContext","Tech","props","user","rest","location","open","setOpen","useState","currentRoute","setCurrentRoute","useEffect","window","addEventListener","innerWidth","getActiveRoute","pathname","routes","activeRoute","i","length","href","indexOf","layout","path","name","getActiveNavbar","activeNavbar","secondary","getRoutes","map","prop","key","allowedRoles","includes","role","component","document","documentElement","dir"],"sources":["C:/Users/donia/Documents/Tunisys/src/layouts/technicien/index.jsx"],"sourcesContent":["import React from \"react\";\nimport { Routes, Route, Navigate, useLocation } from \"react-router-dom\";\nimport Navbar from \"components/navbar\";\nimport TechSidebar from \"components/sidebar/techSidebar\";\nimport Footer from \"components/footer/Footer\";\nimport techroutes from \"../../Routes/techRoutes\";\nimport {useAuthContext} from 'views/auth/hooks/useAuthContext'\n\n\nexport default function Tech(props) {\n  const {user}  = useAuthContext()\n  const { ...rest } = props;\n  const location = useLocation();\n  const [open, setOpen] = React.useState(true);\n  const [currentRoute, setCurrentRoute] = React.useState(\"Main Dashboard\");\n\n  React.useEffect(() => {\n    window.addEventListener(\"resize\", () =>\n      window.innerWidth < 1200 ? setOpen(false) : setOpen(true)\n    );\n  }, []);\n  React.useEffect(() => {\n    getActiveRoute(techroutes);\n  }, [location.pathname]);\n\n  const getActiveRoute = (routes) => {\n    let activeRoute = \"Main Dashboard\";\n    for (let i = 0; i < routes.length; i++) {\n      if (\n        window.location.href.indexOf(\n          routes[i].layout + \"/\" + routes[i].path\n        ) !== -1\n      ) {\n        setCurrentRoute(routes[i].name);\n      }\n    }\n    return activeRoute;\n  };\n  const getActiveNavbar = (routes) => {\n    let activeNavbar = false;\n    for (let i = 0; i < routes.length; i++) {\n      if (\n        window.location.href.indexOf(routes[i].layout + routes[i].path) !== -1\n      ) {\n        return routes[i].secondary;\n      }\n    }\n    return activeNavbar;\n  };\n  /*const getRoutes = (routes) => {\n    return routes.map((prop, key) => {\n      if (prop.layout === \"/tech\") {\n        return (\n          <Route path={`/${prop.path}`} element={prop.component} key={key} />\n        );\n      } else {\n        return null;\n      }\n    });\n  };*/\n  const getRoutes = (routes) => {\n    return routes.map((prop, key) => {\n      if (prop.layout === \"/tech\") {\n        // Add a conditional check for allowed roles\n        if (user && prop.allowedRoles.includes(user.role)) {\n          return <Route path={`/${prop.path}`} element={prop.component} key={key} />;\n        } else {\n          // Optionally, you can redirect to a different page if the user's role is not allowed\n          return <Navigate to=\"/noaccess\" key={key} />;\n        }\n      } else {\n        return null;\n      }\n    });\n  };\n\n  document.documentElement.dir = \"ltr\";\n  return (\n    <div className=\"flex h-full w-full\">\n      <TechSidebar open={open} onClose={() => setOpen(false)} />\n      {/* Navbar & Main Content */}\n      <div className=\"h-full w-full bg-lightPrimary dark:!bg-navy-900\">\n        {/* Main Content */}\n        <main\n          className={`mx-[12px] h-full flex-none transition-all md:pr-2 xl:ml-[313px]`}\n        >\n          {/* Routes */}\n          <div className=\"h-full\">\n            <Navbar\n              onOpenSidenav={() => setOpen(true)}\n              logoText={\"\"}\n              brandText={currentRoute}\n              secondary={getActiveNavbar(techroutes)}\n              {...rest}\n            />\n            <div className=\"pt-5s mx-auto mb-auto h-full min-h-[84vh] p-2 md:pr-2\">\n              <Routes>\n                {getRoutes(techroutes)}\n\n                <Route\n                  path=\"/\"\n                  element={<Navigate to=\"/tech/default\" replace />}\n                />\n              </Routes>\n            </div>\n            <div className=\"p-3\">\n              <Footer />\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}