{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\donia\\\\Documents\\\\Tunisys\\\\src\\\\views\\\\admin\\\\EquipementManagement\\\\equipement.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { IoMdAdd, IoMdDoneAll, IoMdEye } from \"react-icons/io\";\nimport { MdDelete, MdEdit } from \"react-icons/md\";\nimport { format, differenceInMonths } from \"date-fns\";\nimport { Link } from \"react-router-dom\";\nimport ModifyEquipement from \"./ModifyEquipement\";\nimport Swal from \"sweetalert2\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ManagementEquipement = () => {\n  _s();\n\n  const [equipementData, setEquipementData] = useState([]);\n  const [selectedEquipementIds, setSelectedEquipementIds] = useState([]);\n  const [selectedEquipement, setSelectedEquipement] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n  };\n\n  const handleOpenModal = selectedEquipement => {\n    setSelectedEquipement(selectedEquipement);\n    setIsModalOpen(true);\n  };\n\n  const handleCheckboxChange = equipementId => {\n    setSelectedEquipementIds(prevSelectedIds => {\n      if (prevSelectedIds.includes(equipementId)) {\n        return prevSelectedIds.filter(id => id !== equipementId);\n      } else {\n        return [...prevSelectedIds, equipementId];\n      }\n    });\n    console.log(equipementId);\n  };\n\n  useEffect(() => {\n    fetch(\"/api/equi/list\").then(response => response.json()).then(data => setEquipementData(data)).catch(error => console.error(\"Error fetching contrat data:\", error));\n  }, []);\n\n  const onDelete = async equipementId => {\n    try {\n      console.log(\"Deleting equipement with ID:\", equipementId);\n      const response = await fetch(`/api/equi/${equipementId}`, {\n        method: \"DELETE\"\n      });\n\n      if (response.ok) {\n        toast.success(\"La suppression a été effectuée avec succès.\");\n      } else {\n        throw new Error(\"equipement deletion failed\");\n      }\n    } catch (error) {\n      console.error(\"Error:\", error);\n      toast.error(\"Une erreur est survenue lors de la suppression\");\n    }\n  };\n\n  const handleDeleteClick = () => {\n    Swal.fire({\n      icon: \"warning\",\n      title: \"Confirmation de suppression\",\n      text: \"Êtes-vous sûr de vouloir supprimer ce client et ses contacts associés ?\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      cancelButtonColor: \"#3085d6\",\n      confirmButtonText: \"Oui, supprimer\",\n      cancelButtonText: \"Annuler\"\n    }).then(result => {\n      if (result.isConfirmed) {\n        selectedEquipementIds.forEach(equipementId => onDelete(equipementId));\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\n        console.log(\"Suppression annulée\");\n      }\n    });\n  };\n\n  const [scnquery, setSCNQuery] = useState(\"\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), isModalOpen && /*#__PURE__*/_jsxDEV(ModifyEquipement, {\n      handleClose: handleCloseModal,\n      equipement: selectedEquipement\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative mt-9 overflow-x-auto shadow-lg sm:rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-2 flex flex-wrap items-center space-x-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/admin/add/equipement\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"flex text-gray-900 dark:text-gray-300 dark:text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(IoMdAdd, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), \"Add\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: selectedEquipementIds.length === 1 ? `/admin/equipement/details/${selectedEquipementIds[0]}` : \"#\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `flex text-gray-900 dark:text-gray-300 dark:text-gray-600 ${selectedEquipementIds.length !== 1 ? \"cursor-not-allowed\" : \"\"}`,\n            onClick: () => {\n              if (selectedEquipementIds.length !== 1) {\n                Swal.fire({\n                  icon: \"warning\",\n                  title: \"Please select one Equipement\"\n                });\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(IoMdEye, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), \"View\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `flex text-gray-900 dark:text-gray-300 dark:text-gray-600 ${selectedEquipementIds.length !== 1 ? \"cursor-not-allowed\" : \"\"}`,\n          onClick: () => {\n            if (selectedEquipementIds.length !== 1) {\n              Swal.fire({\n                icon: \"warning\",\n                title: \"Please select one Equipement\"\n              });\n            } else {\n              handleDeleteClick();\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(MdDelete, {\n            className: \"h-6 w-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), \"Delete\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-4 flex flex-wrap items-center space-x-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"search\",\n          className: \" text-gray-700    dark:text-gray-300\",\n          children: \"Equipement S/N :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"search\",\n          className: \"block w-40 rounded-lg border border-gray-300 bg-gray-50 p-2 text-sm text-gray-700 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-200 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500\",\n          placeholder: \"Search\",\n          onChange: e => setSCNQuery(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-b border-gray-900/10 pb-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full text-left text-sm text-gray-900 rtl:text-right dark:text-gray-900  sm:table lg:table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"overflow-x-auto bg-gray-50 text-xs uppercase dark:bg-gray-900 \",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"p-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"checkbox-all-search\",\n                    type: \"checkbox\",\n                    className: \"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600 dark:focus:ring-offset-gray-800\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"checkbox-all-search\",\n                    className: \"sr-only\",\n                    children: \"checkbox\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-gray-900   dark:text-gray-300\",\n                children: \"Equipement S/N\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-gray-900    dark:text-gray-300\",\n                children: \"Equipement Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-gray-900    dark:text-gray-300\",\n                children: \"Service No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-gray-900    dark:text-gray-300\",\n                children: \"Client\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-gray-900    dark:text-gray-300\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-gray-900    dark:text-gray-300\",\n                children: \"Mod\\xE9le\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-gray-900    dark:text-gray-300\",\n                children: \"Contrat                \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-gray-900    dark:text-gray-300\",\n                children: \"Date cr\\xE9ation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-gray-900    dark:text-gray-300\",\n                children: \"Modifier\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: equipementData.filter(equipement => Object.values(equipement).filter(value => typeof value === \"string\").some(value => value.toLowerCase().includes(scnquery.toLowerCase()))).map((equipement, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-b bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"w-4 p-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    id: `checkbox-table-search-${index}`,\n                    type: \"checkbox\",\n                    className: \"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600 dark:focus:ring-offset-gray-800\",\n                    checked: selectedEquipementIds.includes(equipement._id),\n                    onChange: () => handleCheckboxChange(equipement._id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: `checkbox-table-search-${index}`,\n                    className: \"sr-only\",\n                    children: \"checkbox\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                scope: \"row\",\n                className: \"whitespace-nowrap px-6 py-4 font-medium text-gray-900 dark:text-white\",\n                children: equipement.equipement_sn\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                scope: \"row\",\n                className: \"whitespace-nowrap px-6 py-4 font-medium text-gray-900 dark:text-white\",\n                children: equipement.equipement_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                scope: \"row\",\n                className: \"whitespace-nowrap px-6 py-4 font-medium text-gray-900 dark:text-white\",\n                children: equipement.client && equipement.client.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Address: \", contratDetails.client[0].adresse || 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Email: \", contratDetails.client[0].email || 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Mobile: \", contratDetails.client[0].mobile || 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Office: \", contratDetails.client[0].office || 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Corporate: \", contratDetails.client[0].corporate || 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 33\n                  }, this), contratDetails.client[0].attachement && /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: contratDetails.client[0].attachement,\n                    alt: \"Client Attachment\",\n                    className: \"rounded \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 21\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                scope: \"row\",\n                className: \"whitespace-nowrap px-6 py-4 font-medium text-gray-900 dark:text-white\",\n                children: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"whitespace-nowrap px-6 py-4 font-medium text-gray-900 dark:text-white\",\n                children: equipement.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4\",\n                children: [equipement.modele, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  scope: \"row\",\n                  onClick: () => handleOpenModal(equipement),\n                  className: \" whitespace-nowrap px-6  py-4 font-medium text-gray-900 dark:text-white\",\n                  children: /*#__PURE__*/_jsxDEV(MdEdit, {\n                    className: \"h-6 w-6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"flex-column flex flex-wrap items-center justify-between pt-4 md:flex-row\",\n      \"aria-label\": \"Table navigation\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mb-4 block  w-full    text-sm font-normal text-gray-900 dark:text-gray-300 md:mb-0 md:inline md:w-auto\",\n        children: [\"Showing\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-gray-900 dark:text-white\",\n          children: \"1-10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), \" \", \"of\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-gray-900 dark:text-white\",\n          children: \"1000\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"inline-flex h-8 -space-x-px text-sm rtl:space-x-reverse\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"flex h-8 items-center justify-center border border-gray-300 bg-white  px-3 leading-tight text-gray-900 ms-0 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800    dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white\",\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            \"aria-current\": \"page\",\n            className: \"flex h-8 items-center justify-center border border-gray-300 bg-blue-50 px-3 text-blue-600 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white\",\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"flex h-8 items-center justify-center border border-gray-300  bg-white px-3 leading-tight text-gray-900 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800    dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white\",\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"flex h-8 items-center justify-center border border-gray-300  bg-white px-3 leading-tight text-gray-900 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800    dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white\",\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"flex h-8 items-center justify-center border border-gray-300  bg-white px-3 leading-tight text-gray-900 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800    dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white\",\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"flex h-8 items-center justify-center border border-gray-300  bg-white px-3 leading-tight text-gray-900 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800    dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white\",\n            children: \"5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"flex h-8 items-center justify-center border border-gray-300  bg-white px-3 leading-tight text-gray-900 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800    dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white\",\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ManagementEquipement, \"c5ot9JTT7JY16t3deZpUkoZkCkQ=\");\n\n_c = ManagementEquipement;\nexport default ManagementEquipement;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManagementEquipement\");","map":{"version":3,"names":["React","useState","useEffect","IoMdAdd","IoMdDoneAll","IoMdEye","MdDelete","MdEdit","format","differenceInMonths","Link","ModifyEquipement","Swal","toast","ToastContainer","ManagementEquipement","equipementData","setEquipementData","selectedEquipementIds","setSelectedEquipementIds","selectedEquipement","setSelectedEquipement","isModalOpen","setIsModalOpen","handleCloseModal","handleOpenModal","handleCheckboxChange","equipementId","prevSelectedIds","includes","filter","id","console","log","fetch","then","response","json","data","catch","error","onDelete","method","ok","success","Error","handleDeleteClick","fire","icon","title","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","forEach","dismiss","DismissReason","cancel","scnquery","setSCNQuery","length","e","target","value","equipement","Object","values","some","toLowerCase","map","index","_id","equipement_sn","equipement_type","client","contratDetails","adresse","email","mobile","office","corporate","attachement","status","modele"],"sources":["C:/Users/donia/Documents/Tunisys/src/views/admin/EquipementManagement/equipement.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { IoMdAdd, IoMdDoneAll, IoMdEye } from \"react-icons/io\";\nimport { MdDelete, MdEdit } from \"react-icons/md\";\nimport { format, differenceInMonths } from \"date-fns\";\nimport { Link } from \"react-router-dom\";\nimport ModifyEquipement from \"./ModifyEquipement\";\nimport Swal from \"sweetalert2\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst ManagementEquipement = () => {\n  const [equipementData, setEquipementData] = useState([]);\n  const [selectedEquipementIds, setSelectedEquipementIds] = useState([]);\n  const [selectedEquipement, setSelectedEquipement] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n  };\n\n  const handleOpenModal = (selectedEquipement) => {\n    setSelectedEquipement(selectedEquipement);\n    setIsModalOpen(true);\n  };\n  const handleCheckboxChange = (equipementId) => {\n    setSelectedEquipementIds((prevSelectedIds) => {\n      if (prevSelectedIds.includes(equipementId)) {\n        return prevSelectedIds.filter((id) => id !== equipementId);\n      } else {\n        return [...prevSelectedIds, equipementId];\n      }\n    });\n    console.log(equipementId);\n  };\n  useEffect(() => {\n    fetch(\"/api/equi/list\")\n      .then((response) => response.json())\n      .then((data) => setEquipementData(data))\n      .catch((error) => console.error(\"Error fetching contrat data:\", error));\n  }, []);\n  const onDelete = async (equipementId) => {\n    try {\n      console.log(\"Deleting equipement with ID:\", equipementId);\n      const response = await fetch(`/api/equi/${equipementId}`, {\n        method: \"DELETE\",\n      });\n\n      if (response.ok) {\n        toast.success(\"La suppression a été effectuée avec succès.\");\n      } else {\n        throw new Error(\"equipement deletion failed\");\n      }\n    } catch (error) {\n      console.error(\"Error:\", error);\n      toast.error(\"Une erreur est survenue lors de la suppression\");\n    }\n  };\n\n  const handleDeleteClick = () => {\n    Swal.fire({\n      icon: \"warning\",\n      title: \"Confirmation de suppression\",\n      text: \"Êtes-vous sûr de vouloir supprimer ce client et ses contacts associés ?\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      cancelButtonColor: \"#3085d6\",\n      confirmButtonText: \"Oui, supprimer\",\n      cancelButtonText: \"Annuler\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n        selectedEquipementIds.forEach((equipementId) => onDelete(equipementId));\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\n        console.log(\"Suppression annulée\");\n      }\n    });\n  };\n  const [scnquery, setSCNQuery] = useState(\"\");\n  return (\n    <div>\n      <ToastContainer />\n      {isModalOpen && (\n        <ModifyEquipement\n          handleClose={handleCloseModal}\n          equipement={selectedEquipement}\n        />\n      )}\n      <div className=\"relative mt-9 overflow-x-auto shadow-lg sm:rounded-lg\">\n        <div className=\"ml-2 flex flex-wrap items-center space-x-5\">\n          <a href=\"/admin/add/equipement\">\n            <button className=\"flex text-gray-900 dark:text-gray-300 dark:text-gray-600\">\n              <IoMdAdd className=\"h-6 w-6\" />\n              Add\n            </button>\n          </a>\n          {/* <Link to={selectedEquipementIds.length === 1 ? /admin/equipement/${selectedEquipementIds[0]} : '#'}>*/}\n          <Link\n            to={\n              selectedEquipementIds.length === 1\n                ? `/admin/equipement/details/${selectedEquipementIds[0]}`\n                : \"#\"\n            }\n          >\n            <button\n              className={`flex text-gray-900 dark:text-gray-300 dark:text-gray-600 ${selectedEquipementIds.length !== 1 ? \"cursor-not-allowed\" : \"\"\n                }`}\n              onClick={() => {\n                if (selectedEquipementIds.length !== 1) {\n                  Swal.fire({\n                    icon: \"warning\",\n                    title: \"Please select one Equipement\",\n                  });\n                }\n              }}\n            >\n              <IoMdEye className=\"h-6 w-6\" />\n              View\n            </button>\n          </Link>\n          {/* </Link>    */}\n          <button\n            className={`flex text-gray-900 dark:text-gray-300 dark:text-gray-600 ${selectedEquipementIds.length !== 1 ? \"cursor-not-allowed\" : \"\"\n              }`}\n            onClick={() => {\n              if (selectedEquipementIds.length !== 1) {\n                Swal.fire({\n                  icon: \"warning\",\n                  title: \"Please select one Equipement\",\n                });\n              } else {\n                handleDeleteClick();\n              }\n            }}\n          >\n            <MdDelete className=\"h-6 w-6\" />\n            Delete\n          </button>\n        </div>\n        <br />\n        <div className=\"ml-4 flex flex-wrap items-center space-x-5\">\n          <label\n            htmlFor=\"search\"\n            className=\" text-gray-700    dark:text-gray-300\"\n          >\n            Equipement S/N :\n          </label>\n          <input\n            type=\"text\"\n            id=\"search\"\n            className=\"block w-40 rounded-lg border border-gray-300 bg-gray-50 p-2 text-sm text-gray-700 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-200 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500\"\n            placeholder=\"Search\"\n            onChange={(e) => setSCNQuery(e.target.value)}\n          />\n        </div>\n\n        <div className=\"border-b border-gray-900/10 pb-6\"></div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full text-left text-sm text-gray-900 rtl:text-right dark:text-gray-900  sm:table lg:table\">\n            <thead className=\"overflow-x-auto bg-gray-50 text-xs uppercase dark:bg-gray-900 \">\n              <tr>\n                <th scope=\"col\" className=\"p-4\">\n                  <div className=\"flex items-center\">\n                    <input\n                      id=\"checkbox-all-search\"\n                      type=\"checkbox\"\n                      className=\"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600 dark:focus:ring-offset-gray-800\"\n                    />\n                    <label for=\"checkbox-all-search\" className=\"sr-only\">\n                      checkbox\n                    </label>\n                  </div>\n                </th>\n                <th\n                  scope=\"col\"\n                  className=\"px-6 py-3 text-gray-900   dark:text-gray-300\"\n                >\n                  Equipement S/N\n                </th>\n                <th\n                  scope=\"col\"\n                  className=\"px-6 py-3 text-gray-900    dark:text-gray-300\"\n                >\n                  Equipement Type\n                </th>\n                <th\n                  scope=\"col\"\n                  className=\"px-6 py-3 text-gray-900    dark:text-gray-300\"\n                >\n                  Service No\n                </th>\n                <th\n                  scope=\"col\"\n                  className=\"px-6 py-3 text-gray-900    dark:text-gray-300\"\n                >\n                  Client\n                </th>\n                <th\n                  scope=\"col\"\n                  className=\"px-6 py-3 text-gray-900    dark:text-gray-300\"\n                >\n                  Status\n                </th>\n                <th\n                  scope=\"col\"\n                  className=\"px-6 py-3 text-gray-900    dark:text-gray-300\"\n                >\n                  Modéle\n                </th>\n                <th\n                  scope=\"col\"\n                  className=\"px-6 py-3 text-gray-900    dark:text-gray-300\"\n                >\n                  Contrat                </th>\n\n                <th\n                  scope=\"col\"\n                  className=\"px-6 py-3 text-gray-900    dark:text-gray-300\"\n                >\n                  Date création\n                </th>\n                <th\n                  scope=\"col\"\n                  className=\"px-6 py-3 text-gray-900    dark:text-gray-300\"\n                >\n                  Modifier\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {equipementData\n                .filter((equipement) =>\n                  Object.values(equipement)\n                    .filter((value) => typeof value === \"string\")\n                    .some((value) =>\n                      value.toLowerCase().includes(scnquery.toLowerCase())\n                    )\n                )\n                .map((equipement, index) => (\n                  <tr\n                    key={index}\n                    className=\"border-b bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600\"\n                  >\n                    <td className=\"w-4 p-4\">\n                      <div className=\"flex items-center\">\n                        <input\n                          id={`checkbox-table-search-${index}`}\n                          type=\"checkbox\"\n                          className=\"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600 dark:focus:ring-offset-gray-800\"\n                          checked={selectedEquipementIds.includes(\n                            equipement._id\n                          )}\n                          onChange={() => handleCheckboxChange(equipement._id)}\n                        />\n\n                        <label\n                          htmlFor={`checkbox-table-search-${index}`}\n                          className=\"sr-only\"\n                        >\n                          checkbox\n                        </label>\n                      </div>\n                    </td>\n                    <td\n                      scope=\"row\"\n                      className=\"whitespace-nowrap px-6 py-4 font-medium text-gray-900 dark:text-white\"\n                    >\n                      {equipement.equipement_sn}\n                    </td>\n                    <td\n                      scope=\"row\"\n                      className=\"whitespace-nowrap px-6 py-4 font-medium text-gray-900 dark:text-white\"\n                    >\n                      {equipement.equipement_type}\n                    </td>\n                    <td\n                      scope=\"row\"\n                      className=\"whitespace-nowrap px-6 py-4 font-medium text-gray-900 dark:text-white\"\n                    >\n                       {equipement.client && equipement.client.length > 0 && (\n                            <>\n                                <p>Address: {contratDetails.client[0].adresse || 'N/A'}</p>\n                                <p>Email: {contratDetails.client[0].email || 'N/A'}</p>\n                                <p>Mobile: {contratDetails.client[0].mobile || 'N/A'}</p>\n                                <p>Office: {contratDetails.client[0].office || 'N/A'}</p>\n                                <p>Corporate: {contratDetails.client[0].corporate || 'N/A'}</p>\n\n                                {contratDetails.client[0].attachement && (\n                                    <img\n                                        src={contratDetails.client[0].attachement}\n                                        alt=\"Client Attachment\"\n                                        className=\"rounded \"\n                                    />\n                                )}\n                            </>\n                        )}\n                      {/*equipement.service_no*/}\n                    </td>{\" \"}\n                    <td\n                      scope=\"row\"\n                      className=\"whitespace-nowrap px-6 py-4 font-medium text-gray-900 dark:text-white\"\n                    >\n                      {/*equipement.client*/}{\" \"}\n                    </td>\n                    <td className=\"whitespace-nowrap px-6 py-4 font-medium text-gray-900 dark:text-white\">\n                      {equipement.status}\n                    </td>\n                    <td className=\"px-6 py-4\">{equipement.modele} </td>\n                    <td className=\"px-6 py-4\">\n                      {/*format(\n                        new Date(equipement.createdAt || \"N/A\"),\n                        \"yyyy/MM/dd\"\n                      )*/}\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <button\n                        scope=\"row\"\n                        onClick={() => handleOpenModal(equipement)}\n                        className=\" whitespace-nowrap px-6  py-4 font-medium text-gray-900 dark:text-white\"\n                      >\n                        <MdEdit className=\"h-6 w-6\" />\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n            </tbody>\n          </table>{\" \"}\n        </div>\n      </div>\n      <nav\n        className=\"flex-column flex flex-wrap items-center justify-between pt-4 md:flex-row\"\n        aria-label=\"Table navigation\"\n      >\n        <span className=\"mb-4 block  w-full    text-sm font-normal text-gray-900 dark:text-gray-300 md:mb-0 md:inline md:w-auto\">\n          Showing{\" \"}\n          <span className=\"font-semibold text-gray-900 dark:text-white\">\n            1-10\n          </span>{\" \"}\n          of{\" \"}\n          <span className=\"font-semibold text-gray-900 dark:text-white\">\n            1000\n          </span>\n        </span>\n        <ul className=\"inline-flex h-8 -space-x-px text-sm rtl:space-x-reverse\">\n          <li>\n            <a\n              href=\"#\"\n              className=\"flex h-8 items-center justify-center border border-gray-300 bg-white  px-3 leading-tight text-gray-900 ms-0 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800    dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white\"\n            >\n              Previous\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"#\"\n              aria-current=\"page\"\n              className=\"flex h-8 items-center justify-center border border-gray-300 bg-blue-50 px-3 text-blue-600 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white\"\n            >\n              1\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"#\"\n              className=\"flex h-8 items-center justify-center border border-gray-300  bg-white px-3 leading-tight text-gray-900 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800    dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white\"\n            >\n              2\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"#\"\n              className=\"flex h-8 items-center justify-center border border-gray-300  bg-white px-3 leading-tight text-gray-900 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800    dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white\"\n            >\n              3\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"#\"\n              className=\"flex h-8 items-center justify-center border border-gray-300  bg-white px-3 leading-tight text-gray-900 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800    dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white\"\n            >\n              4\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"#\"\n              className=\"flex h-8 items-center justify-center border border-gray-300  bg-white px-3 leading-tight text-gray-900 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800    dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white\"\n            >\n              5\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"#\"\n              className=\"flex h-8 items-center justify-center border border-gray-300  bg-white px-3 leading-tight text-gray-900 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800    dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white\"\n            >\n              Next\n            </a>\n          </li>\n        </ul>\n      </nav>\n    </div>\n  );\n};\n\nexport default ManagementEquipement;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}